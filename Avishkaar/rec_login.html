<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="rec_login_SignUp.css">        
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
   <script src="https://kit.fontawesome.com/64b76df157.js" crossorigin="anonymous"></script>
</head> 
  <title>REC AZAMGARH</title>
  <body>


<!-- =============================================== -->    
<!-- -------------------HEADER START------------------------ -->
<header>
  <div class="one"></div>
  <div class="two">
      <p>RAJKIYA ENGINEERING COLLEGE AZAMGARH</p>
          <b>राजकीय इंजीनियरिंग कॉलेज , आजमगढ़</b>
          <p>देवगाँव, आजमगढ़, ( यू .पी .)भारत</p>
          <p class="AICTE">AN AICTE APPROVED GOVERNMENT ENGINEERING COLLEGE,AFFILIATED TO DR.A.P.J.ABDUL KALAM TECHNICAL UNIVERSITY,LUCKNOW </p>
  </div>
  <div  class="three"></div>
  <div class="four"> RESEARCH CENTER <br> ESTABLISHED BY AKTU </div>
  <div class="five"five> AKTU CODE 736</div>
</header>

<!--  !!!!!!!!!!!!!!!!!!!!!! END OF HEADER !!!!!!!!!!!!!!!!!! -->
<!-- =============================================== -->
<div class="home">
    <a href="index.html"><i class="fa-solid fa-house"></i></a>
</div>


<!-- =============================================== -->    
<!-- -------------------Login START------------------------ -->


<div id="login-box">
  <div class="left">
    <h1 class="signuphere">Log In</h1>
    <input type="text" id="email" name="email" placeholder="E-mail" />
    <input type="password" id="password" name="password" placeholder="Password" />
  
    <input type="submit" id='login' name="login" value="Login" />
  </div>
</div>

</body>


<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-app.js";
  import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-database.js";
  import { getAuth, createUserWithEmailAndPassword,signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.11/firebase-auth.js";

  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyA5GbZEfYFff6wLHEO5HbCmPLOPduFvm-U",
    authDomain: "authentication-76e46.firebaseapp.com",
    databaseURL: "https://authentication-76e46-default-rtdb.firebaseio.com",
    projectId: "authentication-76e46",
    storageBucket: "authentication-76e46.appspot.com",
    messagingSenderId: "1041914365790",
    appId: "1:1041914365790:web:5e9818b14a8e71e47cf1cf"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const database=getDatabase(app); 
  const auth = getAuth();


  login.addEventListener('click',(e)=>{
   
     
  var email=document.getElementById('email').value;
  var password=document.getElementById('password').value;


    signInWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
     
    const dt= new Date();
    update(ref(database, 'users/' + user.uid),{
      last_login: dt,
    })
    alert('User Loged in!');
    window.location.href="grid.html";

    // ...
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    alert(errorMessage);
  });

  });

</script> 



</html>
      